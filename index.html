<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Futuristic OS</title>
    <style>
        /* General Styling */
        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: radial-gradient(circle, #000428, #004e92);
            color: white;
            overflow: hidden;
        }

        /* Taskbar */
        #taskbar {
            position: fixed;
            bottom: 0;
            width: 100%;
            height: 50px;
            background: linear-gradient(90deg, #001f3f, #0074D9);
            display: flex;
            align-items: center;
            justify-content: space-around;
            padding: 0 10px;
            box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.5);
        }

        .taskbar-item {
            cursor: pointer;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            border-radius: 10px;
            transition: background 0.3s;
        }

        .taskbar-item:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .taskbar-item.open::after {
            content: '';
            position: absolute;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 5px;
            background: white;
            border-radius: 5px;
        }

        .taskbar-icon {
            width: 30px;
            height: 30px;
            background: #0074D9;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 5px #00FFFF;
        }

        /* Application Window */
        .app-window {
            position: absolute;
            top: 20%;
            left: calc(50% - 200px);
            width: 400px;
            height: 300px;
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid #00FFFF;
            box-shadow: 0 0 10px #00FFFF;
            display: none;
            z-index: 999;
        }

        .app-top-bar {
            cursor: move;
            background-color: #e0e0e0;
            padding: 5px;
            display: flex;
            justify-content: flex-end;
            align-items: center;
            color: black;
        }

        .app-top-bar button {
            margin-left: 5px;
            background: none;
            border: none;
            cursor: pointer;
        }

        .app-content {
            padding: 10px;
            height: calc(100% - 40px);
            overflow: auto;
        }

        #file-manager {
            width: 500px;
            height: 400px;
        }

        #notepad textarea {
            width: 100%;
            height: 100%;
            border: none;
            background: transparent;
            color: white;
            font-size: 1rem;
            resize: none;
            outline: none;
        }
    </style>
</head>
<body>
    <div id="taskbar">
        <div class="taskbar-item" id="taskbar-notepad" onclick="toggleApp('notepad')">
            <div class="taskbar-icon">üìù</div>
        </div>
        <div class="taskbar-item" id="taskbar-file-manager" onclick="toggleApp('file-manager')">
            <div class="taskbar-icon">üìÅ</div>
        </div>
        <div class="taskbar-item" id="taskbar-menu" onclick="toggleApp('menu')">
            <div class="taskbar-icon">‚öôÔ∏è</div>
        </div>
    </div>

    <div id="notepad" class="app-window">
        <div class="app-top-bar" onmousedown="startDrag(event, 'notepad')">
            <button onclick="minimizeApp('notepad')">‚Äî</button>
            <button onclick="maximizeApp('notepad')">‚ñ°</button>
            <button onclick="closeApp('notepad')">X</button>
        </div>
        <div class="app-content">
            <textarea placeholder="Write your notes here..."></textarea>
        </div>
    </div>

    <div id="file-manager" class="app-window">
        <div class="app-top-bar" onmousedown="startDrag(event, 'file-manager')">
            <button onclick="minimizeApp('file-manager')">‚Äî</button>
            <button onclick="maximizeApp('file-manager')">‚ñ°</button>
            <button onclick="closeApp('file-manager')">X</button>
        </div>
        <div class="app-content">
            <h3>File Manager</h3>
            <div id="file-list"></div>
        </div>
    </div>

    <div id="menu" class="app-window">
        <div class="app-top-bar" onmousedown="startDrag(event, 'menu')">
            <button onclick="minimizeApp('menu')">‚Äî</button>
            <button onclick="maximizeApp('menu')">‚ñ°</button>
            <button onclick="closeApp('menu')">X</button>
        </div>
        <div class="app-content">
            <button onclick="exportState()">Export</button>
            <button onclick="importState()">Import</button>
            <button onclick="changeWallpaper()">Change Wallpaper</button>
        </div>
    </div>

    <script>
        const apps = ['notepad', 'file-manager', 'menu'];
        let isDragging = false, dragOffsetX = 0, dragOffsetY = 0, draggedApp = null;

        function toggleApp(appId) {
            const app = document.getElementById(appId);
            app.style.display = app.style.display === 'none' ? 'block' : 'none';
            document.getElementById(`taskbar-${appId}`).classList.toggle('open', app.style.display === 'block');
        }

        function minimizeApp(appId) {
            document.getElementById(appId).style.display = 'none';
        }

        function maximizeApp(appId) {
            const app = document.getElementById(appId);
            if (app.classList.contains('maximized')) {
                app.classList.remove('maximized');
                app.style = ''; // Revert to original size and position
            } else {
                app.classList.add('maximized');
                app.style.top = '0';
                app.style.left = '0';
                app.style.width = 'calc(100% - 10px)';
                app.style.height = 'calc(100% - 60px)'; // Leaves space for taskbar
            }
        }

        function closeApp(appId) {
            const app = document.getElementById(appId);
            app.style.display = 'none';
            document.getElementById(`taskbar-${appId}`).classList.remove('open');
        }

        function startDrag(event, appId) {
            isDragging = true;
            draggedApp = document.getElementById(appId);
            dragOffsetX = event.clientX - draggedApp.offsetLeft;
            dragOffsetY = event.clientY - draggedApp.offsetTop;
            document.addEventListener('mousemove', dragApp);
            document.addEventListener('mouseup', stopDrag);
        }

        function dragApp(event) {
            if (!isDragging || !draggedApp) return;
            draggedApp.style.left = `${event.clientX - dragOffsetX}px`;
            draggedApp.style.top = `${event.clientY - dragOffsetY}px`;
        }

        function stopDrag() {
            isDragging = false;
            draggedApp = null;
            document.removeEventListener('mousemove', dragApp);
            document.removeEventListener('mouseup', stopDrag);
        }
    </script>
</body>
</html>
